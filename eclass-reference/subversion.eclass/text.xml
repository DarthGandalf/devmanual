<?xml version="1.0"?>
<guide self="eclass-reference/subversion.eclass/">
<chapter>
<title><c>subversion.eclass</c> Reference</title>
<body>

<p>
The <c>subversion</c> eclass provides functions that enable the ebuild author to
create 'live' ebuilds that fetch the program's sources from a subversion
repository.
</p>

<p>
See <uri link="::ebuild-writing/functions/src_unpack/svn-sources"/> for an introduction.
</p>

<subsection>
<title><c>subversion.eclass</c> Variables</title>
<body>

<table>
  <tr>
    <th>
      Variables
    </th>
    <th>
      Details
    </th>
  </tr>
  <tr>
    <ti>
      <c>ESVN_REPO_URI</c>
    </ti>
    <ti>
      URI from which the sources will be fetched.  Valid
      protocols: http, https, and svn.  At a minimum, this
      variable <e>must</e> be set.
    </ti>
  </tr>
  <tr>
    <ti>
      <c>ESVN_STORE_DIR</c>
    </ti>
    <ti>
      Location fetched sources will be kept.  Defaults to <c>${DISTDIR}/svn-src</c>.
    </ti>
  </tr>
  <tr>
    <ti>
      <c>ESVN_FETCH_CMD</c>
    </ti>
    <ti>
      Command used for initial checkout.  Defaults to <c>svn checkout</c>.
    </ti>
  </tr>
  <tr>
    <ti>
      <c>ESVN_UPDATE_CMD</c>
    </ti>
    <ti>
      Command used for updating sources.  Defaults to <c>svn update</c>.
    </ti>
  </tr>
  <tr>
    <ti>
      <c>ESVN_PROJECT</c>
    </ti>
    <ti>
      Name of the project.  Defaults to <c>${PN/-svn}</c>.
    </ti>
  </tr>
  <tr>
    <ti>
      <c>ESVN_BOOTSTRAP</c>
    </ti>
    <ti>
      Name of bootstrap script.  This variable is empty by
      default.  './' is automatically prepended.
    </ti>
  </tr>
  <tr>
    <ti>
      <c>ESVN_PATCHES</c>
    </ti>
    <ti>
      List of patches to apply prior to fetching the sources.
      In addition to literal filenames, you may also use globbing
      such as *.diff.  This variable is empty by default.
    </ti>
  </tr>
  <tr>
    <ti>
      <c>ESVN_OPTIONS</c>
    </ti>
    <ti>
      Pass options to the update or checkout command.  This is useful for
      specifying a particular revision to grab (e.g <c>-r 1337</c>).
    </ti>
  </tr>
</table>
</body>
</subsection>

<subsection>
<title><c>subversion.eclass</c> Functions</title>
<body>

<table>
  <tr>
    <th>
      Functions
    </th>
    <th>
      Details
    </th>
  </tr>
  <tr>
    <ti>
      <c>subversion_src_unpack</c>
    </ti>
    <ti>
      The default <c>src_unpack</c> that runs <c>subversion_svn_fetch</c> and
      <c>subversion_bootstrap</c>.
    </ti>
  </tr>
  <tr>
    <ti>
      <c>subversion_svn_fetch</c>
    </ti>
    <ti>
      Fetches the program's sources from the URI specified by <c>ESVN_REPO_URI</c>
      and copies to <c>${S}</c>.
    </ti>
  </tr>
  <tr>
    <ti>
      <c>subversion_bootstrap</c>
    </ti>
    <ti>
      Applies any patches specified by <c>ESVN_PATCHES</c> and executes the bootstrap
      script specified by <c>ESVN_BOOTSTRAP</c>.
    </ti>
  </tr>
</table>

</body>
</subsection>

</body>
</chapter>
</guide>

