<?xml version="1.0"?>
<guide self="eclass-reference/flag-o-matic.eclass/">
<chapter>
<title><c>flag-o-matic.eclass</c> Reference</title>
<body>

<p>
The <c>flag-o-matic</c> eclass provides functions for manipulating <c>CFLAGS</c>,
<c>CXXFLAGS</c>, <c>LDFLAGS</c> and similar. See
<uri link="::ebuild-writing/functions/src_compile/build-environment"/> for
examples.
</p>

<table>
  <tr>
    <th>
      Function
    </th>
    <th>
      Details
    </th>
  </tr>
  <tr>
    <ti>
      <c>filter-flags</c> <e>&lt;flags&gt;</e>
    </ti>
    <ti>
      Removes any occurances of <e>flags</e> in <c>CFLAGS</c>, <c>CXXFLAGS</c>
    </ti>
  </tr>
  <tr>
    <ti>
      <c>append-flags</c> <e>&lt;flags&gt;</e>
    </ti>
    <ti>
      Appends <e>flags</e> to <c>CFLAGS</c> and <c>CXXFLAGS</c>
    </ti>
  </tr>
  <tr>
    <ti>
      <c>replace-flags</c> <e>&lt;orig.flag&gt;</e> <e>&lt;new.flag&gt;</e>
    </ti>
    <ti>
      Replaces <e>orig.flag</e> (if present) with <e>new.flag</e> in <c>CFLAGS</c>
      and <c>CXXFLAGS</c>
    </ti>
  </tr>
  <tr>
    <ti>
      <c>replace-cpu-flags</c> <e>&lt;old.cpus&gt;</e> <e>&lt;new.cpu&gt;</e>
    </ti>
    <ti>
      Replaces <c>-mtune=</c>, <c>-mcpu=</c> and <c>-march=</c> flags with any of
      <e>old.cpus</e> with <e>new.cpu</e> in <c>CFLAGS</c> and <c>CXXFLAGS</c>
    </ti>
  </tr>
  <tr>
    <ti>
      <c>is-flag</c> <e>&lt;flag&gt;</e>
    </ti>
    <ti>
      Tests whether <e>flag</e> is a valid flag with the current compiler
    </ti>
  </tr>
  <tr>
    <ti>
      <c>strip-flags</c>
    </ti>
    <ti>
      Removes all non-safe flags from <c>CFLAGS</c> and <c>CXXFLAGS</c>
    </ti>
  </tr>
  <tr>
    <ti>
      <c>strip-unsupported-flags</c>
    </ti>
    <ti>
      Removes any flags in <c>CFLAGS</c> and <c>CXXFLAGS</c> which are not supported
      by the active compiler
    </ti>
  </tr>
  <tr>
    <ti>
      <c>get-flag</c> <e>&lt;flag&gt;</e>
    </ti>
    <ti>
      Finds and echoes the value of the specified flag
    </ti>
  </tr>
  <tr>
    <ti>
      <c>filter-mfpmath</c> <e>&lt;math types&gt;</e>
    </ti>
    <ti>
      Removes the specified maths types from the fpmath specification (if
      present) in <c>CFLAGS</c> and <c>CXXFLAGS</c>
    </ti>
  </tr>
  <tr>
    <ti>
      <c>append-ldflags</c>
    </ti>
    <ti>
      Appends the specified flags to <c>LDFLAGS</c>
    </ti>
  </tr>
  <tr>
    <ti>
      <c>filter-ldflags</c> <e>&lt;flags&gt;</e>
    </ti>
    <ti>
      Remove the specified flags (if present) from <c>LDFLAGS</c>
    </ti>
  </tr>
</table>

</body>
</chapter>
</guide>
